const CASCADE_DIV_CLASS='cascade-div';const SLIDED_DIV_CLASS='cascade-div-slided';const SELECTED_DIV_CLASS='cascade-div-selected';var g_isSliding=!1;jQuery.prototype.cascadingDivs=function(options){var options=options||{};const DIV_SELECTOR=options.divSelector||'div';const SLIDE_TIME=options.slideTime||0.5;var divsContainer=jQuery(this);var divs=divsContainer.children(DIV_SELECTOR);var maxHeight=0;var maxWidth=0;divs.each(function(index,div){div=jQuery(div);if(div.height()>maxHeight){maxHeight=div.height()}
if(div.width()>maxWidth){maxWidth=div.width()}});var collapsedWidth=(divsContainer.width()-maxWidth)/(divs.length-1);divsContainer.css('position','relative');divs.css('position','absolute');var highestZIndex=divs.length-1;divs.each(function(index,div){div=jQuery(div);div.css('left',(collapsedWidth*index)+'px');div.css('z-index',highestZIndex-index)});divsContainer.height(maxHeight);divs.height(maxHeight);divsContainer.css('overflow','hidden');divs.addClass(CASCADE_DIV_CLASS);divs.first().addClass(SELECTED_DIV_CLASS);divs.hover(function(e){var clickedDiv=jQuery(this);if(clickedDiv.hasClass(SELECTED_DIV_CLASS)||g_isSliding){return}
var slideAmount=clickedDiv.width()-collapsedWidth;var prevDiv=clickedDiv.prev();var nextDiv=clickedDiv.next();if(prevDiv.hasClass(CASCADE_DIV_CLASS)&&!prevDiv.hasClass(SLIDED_DIV_CLASS)){slideDiv(prevDiv,slideAmount)}else if(nextDiv.hasClass(CASCADE_DIV_CLASS)&&clickedDiv.hasClass(SLIDED_DIV_CLASS)){unslideDiv(clickedDiv,slideAmount)}
jQuery('.'+SELECTED_DIV_CLASS).removeClass(SELECTED_DIV_CLASS);clickedDiv.addClass(SELECTED_DIV_CLASS)});divs.css('transition','left '+SLIDE_TIME+'s');divs.css('-webkit-transition','left '+SLIDE_TIME+'s');divs.bind('transitionend',onTransitionEnd);divs.bind('webkitTransitionEnd',onTransitionEnd);divs.bind('oTransitionEnd',onTransitionEnd)}
function onTransitionEnd(e){g_isSliding=!1}
function slideDiv(div,amount){if(div.prev().hasClass(CASCADE_DIV_CLASS)&&!div.hasClass(SELECTED_DIV_CLASS)){slideDiv(div.prev(),amount)}
repositionDiv(div,-amount);div.addClass(SLIDED_DIV_CLASS)}
function unslideDiv(div,amount){if(div.next().hasClass(CASCADE_DIV_CLASS)&&!div.next().hasClass(SELECTED_DIV_CLASS)){unslideDiv(div.next(),amount)}
repositionDiv(div,amount);div.removeClass(SLIDED_DIV_CLASS)}
function repositionDiv(div,amount){var currentPos=div.css('left');currentPos=currentPos.replace('px','');if(currentPos==''){currentPos=0}else{currentPos=Number(currentPos)}
div.css('left',(currentPos+amount)+'px');g_isSliding=!0}